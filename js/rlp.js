const rlp = require('rlp')

const encoded = '\x08\xff\xb6c\x10\x01\x1a\x83\x03\n\xdf\x02\n\xab\x02\n\x1f/ethermint.evm.v1.MsgEthereumTx\x12\x87\x02\n\xc0\x01\n\x1e/ethermint.evm.v1.DynamicFeeTx\x12\x9d\x01\n\x049025\x10\x04\x1a\n2500000000"\n2775282416(\xdd\x8b\t2*0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c:\x010B\x04<\xcf\xd6\x0bZ \xbe\xe3*Cy2\xd5\xf1\x00}\x88\xc0~/\xb8\xb2\x93\xe0B\xe9x\x8e\xa9\xe1\x00\xaal\xb0\xb9\xbcdLb 3\xd45\x9b\x15u\xa3\x9f\'\xde\n\x010!K\xed\xaa!\xcb\x85\xd9\x86\x06\x8d\xfa\x8bYb\x1d\x86\xbb\xb9\x1aB0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\xfa?.\n,/ethermint.evm.v1.ExtensionOptionsEthereumTx\x12\x1f\x12\x1d\n\x17\n\x04nexb\x12\x0f413397742840112\x10\xdd\x8b\t"\xcee\x12\x8d\x16\x12\x8a\x16\n\'/ethermint.evm.v1.MsgEthereumTxResponse\x12\xde\x15\nB0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\x12\xcc\x03\n*0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c\x12B0x9cb1d6e254bd1fc750e3595770746bea91c9ea3e87d8082e553a7831334ca10f\x12B0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\x12B0x0000000000000000000000000000000000000000000000000000000000000000\x12B0x0000000000000000000000000000000000000000000000000000000066016a0b \xff\xb6c*B0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e0\x01:B0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7@\x02\x12\xcc\x03\n*0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c\x12B0xbaee82aac336fdddae4877533944ce6799506985dd09f6cb4f1d6d31a046d5d9\x12B0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\x12B0x0000000000000000000000000000000000000000000000000000000000000000\x12B0x0000000000000000000000000000000000000000000000000000000066016a0b \xff\xb6c*B0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e0\x01:B0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7@\x03\x12\xcc\x03\n*0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c\x12B0x8e1702e2d46079009cddac4c07dfcd74ed0c948302d4cc8a1a25651a7943366b\x12B0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\x12B0x0000000000000000000000000000000000000000000000000000000000000000\x12B0x0000000000000000000000000000000000000000000000000000000066016a0b \xff\xb6c*B0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e0\x01:B0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7@\x04\x12\xcc\x03\n*0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c\x12B0x92c4fbf79ff53683619040fa588ec1b0e4ba3ab0d137f672914c6fe676f56fcb\x12B0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\x12B0x000000000000000000000000000000000000000000000000c249fdd327780000\x12B0x0000000000000000000000000000000000000000000000000000000066016a0b \xff\xb6c*B0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e0\x01:B0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7@\x05\x12\xaa\x03\n*0xfbA3dE111D2C7EC12499c1C0c959A8be4e4F0afC\x12B0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\x12B0x000000000000000000000000db54d3ce2035509d83f86bc982adc62f4aebe03c\x12B0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\x1a \x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xb8\x93\x17\x88\x98\xb2\x00\x00 \xff\xb6c*B0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e0\x01:B0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7@\x06\x12\xaa\x03\n*0xfbA3dE111D2C7EC12499c1C0c959A8be4e4F0afC\x12B0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\x12B0x000000000000000000000000db54d3ce2035509d83f86bc982adc62f4aebe03c\x12B0x0000000000000000000000001dd53a8cdbf139efa6f091f7808d0f2efa750a71\x1a \x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\t\xb6\xe6J\x8e\xc6\x00\x00 \xff\xb6c*B0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e0\x01:B0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7@\x07(\xe6\xd7\x08\x1a\x95([{"msg_index":0,"events":[{"type":"message","attributes":[{"key":"action","value":"/ethermint.evm.v1.MsgEthereumTx"},{"key":"sender","value":"nexa149x45077ww5zxtsvuxaesxv7duusfpkfl9h7re"}]},{"type":"coin_spent","attributes":[{"key":"spender","value":"nexa17xpfvakm2amg962yls6f84z3kell8c5ltgg786"},{"key":"amount","value":"17525586518765nexb"}]},{"type":"coin_received","attributes":[{"key":"receiver","value":"nexa149x45077ww5zxtsvuxaesxv7duusfpkfl9h7re"},{"key":"amount","value":"17525586518765nexb"}]},{"type":"transfer","attributes":[{"key":"recipient","value":"nexa149x45077ww5zxtsvuxaesxv7duusfpkfl9h7re"},{"key":"sender","value":"nexa17xpfvakm2amg962yls6f84z3kell8c5ltgg786"},{"key":"amount","value":"17525586518765nexb"}]},{"type":"message","attributes":[{"key":"sender","value":"nexa17xpfvakm2amg962yls6f84z3kell8c5ltgg786"}]},{"type":"ethereum_tx","attributes":[{"key":"amount","value":"0"},{"key":"ethereumTxHash","value":"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e"},{"key":"txIndex","value":"1"},{"key":"txGasUsed","value":"142310"},{"key":"txHash","value":"00001C6A780E6DFB241860AACAF943F0ABB198983312BAF2F317DC1D60D6C987"},{"key":"recipient","value":"0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c"}]},{"type":"tx_log","attributes":[{"key":"txLog","value":"{\\"address\\":\\"0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c\\",\\"topics\\":[\\"0x9cb1d6e254bd1fc750e3595770746bea91c9ea3e87d8082e553a7831334ca10f\\",\\"0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\\",\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"0x0000000000000000000000000000000000000000000000000000000066016a0b\\"],\\"blockNumber\\":1629055,\\"transactionHash\\":\\"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\\",\\"transactionIndex\\":1,\\"blockHash\\":\\"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7\\",\\"logIndex\\":2}"},{"key":"txLog","value":"{\\"address\\":\\"0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c\\",\\"topics\\":[\\"0xbaee82aac336fdddae4877533944ce6799506985dd09f6cb4f1d6d31a046d5d9\\",\\"0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\\",\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"0x0000000000000000000000000000000000000000000000000000000066016a0b\\"],\\"blockNumber\\":1629055,\\"transactionHash\\":\\"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\\",\\"transactionIndex\\":1,\\"blockHash\\":\\"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7\\",\\"logIndex\\":3}"},{"key":"txLog","value":"{\\"address\\":\\"0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c\\",\\"topics\\":[\\"0x8e1702e2d46079009cddac4c07dfcd74ed0c948302d4cc8a1a25651a7943366b\\",\\"0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\\",\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"0x0000000000000000000000000000000000000000000000000000000066016a0b\\"],\\"blockNumber\\":1629055,\\"transactionHash\\":\\"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\\",\\"transactionIndex\\":1,\\"blockHash\\":\\"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7\\",\\"logIndex\\":4}"},{"key":"txLog","value":"{\\"address\\":\\"0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c\\",\\"topics\\":[\\"0x92c4fbf79ff53683619040fa588ec1b0e4ba3ab0d137f672914c6fe676f56fcb\\",\\"0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\\",\\"0x000000000000000000000000000000000000000000000000c249fdd327780000\\",\\"0x0000000000000000000000000000000000000000000000000000000066016a0b\\"],\\"blockNumber\\":1629055,\\"transactionHash\\":\\"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\\",\\"transactionIndex\\":1,\\"blockHash\\":\\"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7\\",\\"logIndex\\":5}"},{"key":"txLog","value":"{\\"address\\":\\"0xfbA3dE111D2C7EC12499c1C0c959A8be4e4F0afC\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000db54d3ce2035509d83f86bc982adc62f4aebe03c\\",\\"0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9\\"],\\"data\\":\\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuJMXiJiyAAA=\\",\\"blockNumber\\":1629055,\\"transactionHash\\":\\"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\\",\\"transactionIndex\\":1,\\"blockHash\\":\\"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7\\",\\"logIndex\\":6}"},{"key":"txLog","value":"{\\"address\\":\\"0xfbA3dE111D2C7EC12499c1C0c959A8be4e4F0afC\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000db54d3ce2035509d83f86bc982adc62f4aebe03c\\",\\"0x0000000000000000000000001dd53a8cdbf139efa6f091f7808d0f2efa750a71\\"],\\"data\\":\\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACbbmSo7GAAA=\\",\\"blockNumber\\":1629055,\\"transactionHash\\":\\"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\\",\\"transactionIndex\\":1,\\"blockHash\\":\\"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7\\",\\"logIndex\\":7}"}]},{"type":"message","attributes":[{"key":"module","value":"evm"},{"key":"sender","value":"0xa94d5a3fDE73a8232e0cE1BB98199E6f390486C9"},{"key":"txType","value":"2"}]}]}](\xdd\x8b\t0\xe6\xd7\x08:g\n\ncoin_spent\x128\n\x07spender\x12+nexa149x45077ww5zxtsvuxaesxv7duusfpkfl9h7re\x18\x01\x12\x1f\n\x06amount\x12\x13392742408767215nexb\x18\x01:k\n\rcoin_received\x129\n\x08receiver\x12+nexa17xpfvakm2amg962yls6f84z3kell8c5ltgg786\x18\x01\x12\x1f\n\x06amount\x12\x13392742408767215nexb\x18\x01:\xa0\x01\n\x08transfer\x12:\n\trecipient\x12+nexa17xpfvakm2amg962yls6f84z3kell8c5ltgg786\x18\x01\x127\n\x06sender\x12+nexa149x45077ww5zxtsvuxaesxv7duusfpkfl9h7re\x18\x01\x12\x1f\n\x06amount\x12\x13392742408767215nexb\x18\x01:B\n\x07message\x127\n\x06sender\x12+nexa149x45077ww5zxtsvuxaesxv7duusfpkfl9h7re\x18\x01:"\n\x02tx\x12\x1c\n\x03fee\x12\x13392742408767215nexb\x18\x01:u\n\x0bethereum_tx\x12V\n\x0eethereumTxHash\x12B0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\x18\x01\x12\x0e\n\x07txIndex\x12\x011\x18\x01:o\n\x07message\x12+\n\x06action\x12\x1f/ethermint.evm.v1.MsgEthereumTx\x18\x01\x127\n\x06sender\x12+nexa149x45077ww5zxtsvuxaesxv7duusfpkfl9h7re\x18\x01:f\n\ncoin_spent\x128\n\x07spender\x12+nexa17xpfvakm2amg962yls6f84z3kell8c5ltgg786\x18\x01\x12\x1e\n\x06amount\x12\x1217525586518765nexb\x18\x01:j\n\rcoin_received\x129\n\x08receiver\x12+nexa149x45077ww5zxtsvuxaesxv7duusfpkfl9h7re\x18\x01\x12\x1e\n\x06amount\x12\x1217525586518765nexb\x18\x01:\x9f\x01\n\x08transfer\x12:\n\trecipient\x12+nexa149x45077ww5zxtsvuxaesxv7duusfpkfl9h7re\x18\x01\x127\n\x06sender\x12+nexa17xpfvakm2amg962yls6f84z3kell8c5ltgg786\x18\x01\x12\x1e\n\x06amount\x12\x1217525586518765nexb\x18\x01:B\n\x07message\x127\n\x06sender\x12+nexa17xpfvakm2amg962yls6f84z3kell8c5ltgg786\x18\x01:\xa4\x02\n\x0bethereum_tx\x12\r\n\x06amount\x12\x010\x18\x01\x12V\n\x0eethereumTxHash\x12B0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e\x18\x01\x12\x0e\n\x07txIndex\x12\x011\x18\x01\x12\x15\n\ttxGasUsed\x12\x06142310\x18\x01\x12L\n\x06txHash\x12@00001C6A780E6DFB241860AACAF943F0ABB198983312BAF2F317DC1D60D6C987\x18\x01\x129\n\trecipient\x12*0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c\x18\x01:\x8e\x1b\n\x06tx_log\x12\xc3\x04\n\x05txLog\x12\xb7\x04{"address":"0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c","topics":["0x9cb1d6e254bd1fc750e3595770746bea91c9ea3e87d8082e553a7831334ca10f","0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000066016a0b"],"blockNumber":1629055,"transactionHash":"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e","transactionIndex":1,"blockHash":"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7","logIndex":2}\x18\x01\x12\xc3\x04\n\x05txLog\x12\xb7\x04{"address":"0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c","topics":["0xbaee82aac336fdddae4877533944ce6799506985dd09f6cb4f1d6d31a046d5d9","0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000066016a0b"],"blockNumber":1629055,"transactionHash":"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e","transactionIndex":1,"blockHash":"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7","logIndex":3}\x18\x01\x12\xc3\x04\n\x05txLog\x12\xb7\x04{"address":"0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c","topics":["0x8e1702e2d46079009cddac4c07dfcd74ed0c948302d4cc8a1a25651a7943366b","0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000066016a0b"],"blockNumber":1629055,"transactionHash":"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e","transactionIndex":1,"blockHash":"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7","logIndex":4}\x18\x01\x12\xc3\x04\n\x05txLog\x12\xb7\x04{"address":"0xDB54D3Ce2035509d83F86bc982adc62F4AEBe03c","topics":["0x92c4fbf79ff53683619040fa588ec1b0e4ba3ab0d137f672914c6fe676f56fcb","0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9","0x000000000000000000000000000000000000000000000000c249fdd327780000","0x0000000000000000000000000000000000000000000000000000000066016a0b"],"blockNumber":1629055,"transactionHash":"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e","transactionIndex":1,"blockHash":"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7","logIndex":5}\x18\x01\x12\xb4\x04\n\x05txLog\x12\xa8\x04{"address":"0xfbA3dE111D2C7EC12499c1C0c959A8be4e4F0afC","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x000000000000000000000000db54d3ce2035509d83f86bc982adc62f4aebe03c","0x000000000000000000000000a94d5a3fde73a8232e0ce1bb98199e6f390486c9"],"data":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuJMXiJiyAAA=","blockNumber":1629055,"transactionHash":"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e","transactionIndex":1,"blockHash":"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7","logIndex":6}\x18\x01\x12\xb4\x04\n\x05txLog\x12\xa8\x04{"address":"0xfbA3dE111D2C7EC12499c1C0c959A8be4e4F0afC","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x000000000000000000000000db54d3ce2035509d83f86bc982adc62f4aebe03c","0x0000000000000000000000001dd53a8cdbf139efa6f091f7808d0f2efa750a71"],"data":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACbbmSo7GAAA=","blockNumber":1629055,"transactionHash":"0xd1a0f3bd974446679aac9ba58c6416f51e1850c07ca7c5840af0da2e5bd7b32e","transactionIndex":1,"blockHash":"0x951d5307331f43f6f516223884d75c461f6105b27fbfba2fc24a50bc5dedcdd7","logIndex":7}\x18\x01:a\n\x07message\x12\x0f\n\x06module\x12\x03evm\x18\x01\x126\n\x06sender\x12*0xa94d5a3fDE73a8232e0cE1BB98199E6f390486C9\x18\x01\x12\r\n\x06txType\x12\x012\x18\x01'

function decodeRLP(input) {
    if (input.length === 0) {
        return Buffer.alloc(0);
    }
    const prefix = input[0];

    if (prefix <= 0x7f) {
        return input.slice(0, 1);
    } else if (prefix <= 0xb7 && prefix >= 0x80) {
        const length = prefix - 0x80;
        return input.slice(1, 1 + length);
    } else if (prefix <= 0xbf && prefix >= 0xb8) {
        const lengthLength = prefix - 0xb7;
        const length = parseInt(input.slice(1, 1 + lengthLength).toString('hex'), 16);
        return input.slice(1 + lengthLength, 1 + lengthLength + length);
    } else if (prefix <= 0xf7 && prefix >= 0xc0) {
        const length = prefix - 0xc0;
        return input.slice(1, 1 + length).map(decodeRLP);
    } else if (prefix <= 0xff && prefix >= 0xf8) {
        const lengthLength = prefix - 0xf7;
        const length = parseInt(input.slice(1, 1 + lengthLength).toString('hex'), 16);
        const data = input.slice(1 + lengthLength);
        let decoded = Buffer.alloc(0);
        let offset = 0;
        while (offset < length) {
            const item = decodeRLP(data.slice(offset));
            decoded = Buffer.concat([decoded, item]);
            offset += item.length;
        }
        return decoded;
    }
}


const decoded = decodeRLP(encoded)
console.log('decoded..', decoded)
